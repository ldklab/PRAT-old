2c2
<         -:    0:Programs:22
---
>         -:    0:Programs:9
161c161
<     #####:  159:	printf("                     [--psk hex-key --psk-identity identity [--ciphers ciphers]]\n");
---
>         -:  159:	printf("                     [--psk hex-key --psk-identity identity [--ciphers ciphers]]\n");
224,225c224,225
<     #####:  222:	printf(" --psk : pre-shared-key in hexadecimal (no leading 0x) to enable TLS-PSK mode.\n");
<     #####:  223:	printf(" --psk-identity : client identity string for TLS-PSK mode.\n");
---
>         -:  222:	printf(" --psk : pre-shared-key in hexadecimal (no leading 0x) to enable TLS-PSK mode.\n");
>         -:  223:	printf(" --psk-identity : client identity string for TLS-PSK mode.\n");
236c236
<         4:  234:int main(int argc, char *argv[])
---
>     #####:  234:int main(int argc, char *argv[])
244c244
<         4:  242:	memset(&cfg, 0, sizeof(struct mosq_config));
---
>     #####:  242:	memset(&cfg, 0, sizeof(struct mosq_config));
246,247c246,247
<         4:  244:	rc = client_config_load(&cfg, CLIENT_SUB, argc, argv);
<         4:  245:	if(rc){
---
>     #####:  244:	rc = client_config_load(&cfg, CLIENT_SUB, argc, argv);
>     #####:  245:	if(rc){
258c258
<         4:  256:	if(cfg.no_retain && cfg.retained_only){
---
>     #####:  256:	if(cfg.no_retain && cfg.retained_only){
263c263
<         4:  261:	mosquitto_lib_init();
---
>     #####:  261:	mosquitto_lib_init();
265c265
<         4:  263:	if(client_id_generate(&cfg, "mosqsub")){
---
>     #####:  263:	if(client_id_generate(&cfg, "mosqsub")){
269,270c269,270
<         4:  267:	mosq = mosquitto_new(cfg.id, cfg.clean_session, &cfg);
<         4:  268:	if(!mosq){
---
>     #####:  267:	mosq = mosquitto_new(cfg.id, cfg.clean_session, &cfg);
>     #####:  268:	if(!mosq){
282c282
<         4:  280:	if(client_opts_set(mosq, &cfg)){
---
>     #####:  280:	if(client_opts_set(mosq, &cfg)){
285c285
<         4:  283:	if(cfg.debug){
---
>     #####:  283:	if(cfg.debug){
289,290c289,290
<         4:  287:	mosquitto_connect_with_flags_callback_set(mosq, my_connect_callback);
<         4:  288:	mosquitto_message_callback_set(mosq, my_message_callback);
---
>     #####:  287:	mosquitto_connect_with_flags_callback_set(mosq, my_connect_callback);
>     #####:  288:	mosquitto_message_callback_set(mosq, my_message_callback);
292,293c292,293
<         4:  290:	rc = client_connect(mosq, &cfg);
<         4:  291:	if(rc) return rc;
---
>     #####:  290:	rc = client_connect(mosq, &cfg);
>     #####:  291:	if(rc) return rc;
