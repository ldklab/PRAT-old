72c72
<     #####:   70:	packet->payload = mosquitto__malloc(sizeof(uint8_t)*packet->packet_length + LWS_SEND_BUFFER_PRE_PADDING + LWS_SEND_BUFFER_POST_PADDING);
---
>         -:   70:	packet->payload = mosquitto__malloc(sizeof(uint8_t)*packet->packet_length + LWS_SEND_BUFFER_PRE_PADDING + LWS_SEND_BUFFER_POST_PADDING);
74c74
<         -:   72:	packet->payload = mosquitto__malloc(sizeof(uint8_t)*packet->packet_length);
---
>     #####:   72:	packet->payload = mosquitto__malloc(sizeof(uint8_t)*packet->packet_length);
124,126c124,126
<     #####:  122:	if(mosq->wsi){
<     #####:  123:		libwebsocket_callback_on_writable(mosq->ws_context, mosq->wsi);
<     #####:  124:		return MOSQ_ERR_SUCCESS;
---
>         -:  122:	if(mosq->wsi){
>         -:  123:		libwebsocket_callback_on_writable(mosq->ws_context, mosq->wsi);
>         -:  124:		return MOSQ_ERR_SUCCESS;
128c128
<     #####:  126:		return packet__write(mosq);
---
>         -:  126:		return packet__write(mosq);
131c131
<         -:  129:	return packet__write(mosq);
---
>     #####:  129:	return packet__write(mosq);
