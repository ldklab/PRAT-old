        -:    0:Source:../dds/DCPS/ReceivedDataElementList.inl
        -:    0:Programs:72
        -:    1:/*
        -:    2: *
        -:    3: *
        -:    4: * Distributed under the OpenDDS License.
        -:    5: * See: http://www.opendds.org/license.html
        -:    6: */
        -:    7:
        -:    8:#include "ReceivedDataElementList.h"
        -:    9:#include "InstanceState.h"
        -:   10:
        -:   11:ACE_INLINE
        -:   12:void
        -:   13:OpenDDS::DCPS::ReceivedDataElementList::add(ReceivedDataElement *data_sample)
        -:   14:{
        -:   15:  // The default action is to simply add to the
        -:   16:  // tail - in the future we may want to add
        -:   17:  // to the middle of the list based on sequence
        -:   18:  // number and/or source timestamp
        -:   19:
        -:   20:  data_sample->previous_data_sample_ = 0;
        -:   21:  data_sample->next_data_sample_ = 0;
        -:   22:
        -:   23:  ++size_ ;
        -:   24:
        -:   25:  if (!head_) {
        -:   26:    // First sample in the list.
        -:   27:    head_ = tail_ = data_sample ;
        -:   28:
        -:   29:  } else {
        -:   30:    // Add to existing list.
        -:   31:    tail_->next_data_sample_ = data_sample ;
        -:   32:    data_sample->previous_data_sample_ = tail_;
        -:   33:    tail_ = data_sample;
        -:   34:  }
        -:   35:
        -:   36:  if (instance_state_) {
        -:   37:    instance_state_->empty(false);
        -:   38:  }
        -:   39:}
        -:   40:
        -:   41:ACE_INLINE
        -:   42:OpenDDS::DCPS::ReceivedDataElement *
    #####:   43:OpenDDS::DCPS::ReceivedDataElementList::remove_head()
        -:   44:{
    #####:   45:  if (!size_) {
    #####:   46:    return 0 ;
        -:   47:  }
        -:   48:
    #####:   49:  OpenDDS::DCPS::ReceivedDataElement *ptr = head_ ;
        -:   50:
    #####:   51:  remove(head_) ;
        -:   52:
    #####:   53:  return ptr ;
        -:   54:}
        -:   55:
        -:   56:ACE_INLINE
        -:   57:OpenDDS::DCPS::ReceivedDataElement *
        -:   58:OpenDDS::DCPS::ReceivedDataElementList::remove_tail()
        -:   59:{
        -:   60:  if (!size_) {
        -:   61:    return 0 ;
        -:   62:  }
        -:   63:
        -:   64:  OpenDDS::DCPS::ReceivedDataElement *ptr = tail_ ;
        -:   65:
        -:   66:  remove(tail_) ;
        -:   67:
        -:   68:  return ptr ;
        -:   69:}
